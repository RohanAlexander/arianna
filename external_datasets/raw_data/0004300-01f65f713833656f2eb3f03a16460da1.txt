There’s been quite a bit of discussion about weapon enchants, and which ones are the best for tanks. There are some enchants that are obviously intended to be tanking choices: River’s Song gives us dodge rating, while Colossus gives us absorption bubbles. And Dancing Steel gives a nice chunk of strength, which is almost a 1:1 conversion to parry rating after raid buffs. Given our new-found affinity for haste and mastery, a lot of people have thought favorably of Windsong, which in previous expansions would have been a pure DPS option.

My initial intuition told me that, based on the proc rates and effect types, Colossus would be a decent choice. Unfortunately, I just didn’t have the time to finish writing the detailed simulations I needed to prove it, though the data in my raid logs seemed consistent with what I expected. And before I got around to writing simulations, the “Real Proc Per Minute” (rPPM) mechanic was announced, throwing a wrench into the works. Since it seemed clear they were thinking about migrating the other effects to this system, I decided to wait on writing anything rigorous until the dust settled. And in due time, it was announced that all of these enchants are moving to a rPPM implementation in 5.1. Ten points for lazy Theck!

More seriously, though, this means we can now cleanly compare the different effects. I worked through some of the math for this in several forum posts, albeit a little sloppily. I’ve consolidated those posts here, and updated/corrected the math where it was a little less rigorous.

Uptime Calculations

The rPPM proc mechanics were described in this post by Daxxarri. The proc chance for any given attack is

$p = P H T/60$

where $P$ is the proc rate (i.e. “2 rPPM”), $H$ is your haste modifier (which is the higher of your melee and spell haste; in practice this will always be our spell haste thanks to Seal of Insight and the 5% spell haste raid buff), and $T$ is the time since the last eligible proc source (in this case, the last time you dealt damage, healed someone, or missed/dodged/parried). It’s relatively simple to show that for one of these enchants, this gives an uptime of approximately:

$U = P H D/60,$

where $D$ is the duration of the buff the effect grants.

I say “approximately” because technically a proc-based effect with $x$ rPPM won’t give you exactly $xHD$ seconds of uptime per minute. The reason is that you can get “unlucky” and have overlapping procs that refresh the buff, reducing the overall uptime. Hamlet has already described how to do this, so I won’t go into it here. This will reduce the effectiveness of Windsong, Dancing Steel, and River’s Song. The table below gives the time-averaged uptime of each of the enchants we’re interested in with and without this correction, assuming 10% spell haste:

Enchant P (PPM) P*H*D/60 1-exp(-P*H*D/60) Windsong 2/3 0.1467 0.1364 Dancing Steel 2 0.4400 0.3560 River’s Song 4 0.5133 0.5133*

In this case, the Windsong result is for any one of the three buffs – i.e., we get about 13.64% uptime on each one. River’s Song is a bit of a special case as well – the buff it grants stacks twice, which changes the uptime calculation a bit. In that case, we only care about the situations where we get 3 procs in a short time period, such that one of them is “wasted.” That’s a much more complicated probability question, and the result will be very small, so we’re going to ignore it for the purposes of this post.

The effect this type of “munching” has on Colossus is harder to model. Colossus is 6 PPM, but it’s not a fixed-duration buff either. It lasts up to 10 seconds, but in practice it will be consumed much faster than that while you’re tanking. Exactly how fast depends on a myriad of factors – the boss’s attack speed, your avoidance, your attack speed, and what spells you cast (and in what order!). It’s too complicated a problem to accurately treat here, so we’re going to fudge the numbers a bit and assume about 10% Colossus munching, such that it completely offsets our haste bonus from Seal of Insight. This is almost certainly an overestimate of the munching effect, so our numbers for Colossus should be a lower bound on what you can reasonably expect.

Analysis

I had been saying that Dancing Steel was going to be better than River’s Song, but now I’m not so sure. Without the stacking mechanic the uptimes would be similar, which would give Dancing Steel the edge. But the stacking mechanic changes things – since it’s harder to waste a River’s Song proc we get considerably higher average uptime out of it. Dancing Steel still has some advantages – the ~587 average strength it provides gives you parry (which in some gear sets may be diminished less than dodge), plus some DPS, plus some SoI healing. But I’m not certain that it’s strictly superior to River’s Song (which gives ~847 dodge rating) anymore, even for raw avoidance.

The math for Windsong is sort of interesting. Since each buff is independent, we get an average of 13.64% for each of the three buffs it can grant. That’s 1500 of each rating with 0.1364 uptime, or an average of ~205 rating of each type. If we ignore crit, that’s about 410 rating total, which seems like a lot more than the other options (for example, the weapon chain’s static 200 expertise). However, remember that in terms of raw TDR, haste is abysmal. Putting my current stats into my spreadsheet, I get the following stat weights:

Armor 0.8358

Parry 0.4324

Dodge 0.4339

Strength 0.4224

Mastery 0.4380

Hit 0.2248

Expertise 0.1445

Haste 0.1722



So haste is about 0.1722/0.4380=39.3% as good as mastery for TDR. Having 205 haste and 205 mastery is roughly equivalent to having 286 mastery. To put that in terms of damage reduction, let’s use a simplistic model: the damage reduction is approximately equal to (SotR uptime)*rating/600, such that at 100% SotR uptime 600 rating gives 1% damage reduction. In practice, SotR uptime is generally only about 40-50%. If we take the generous assumption of 50% SotR uptime, that 286 rating is only 0.238% reduced damage taken. However, this is absolute damage taken, not relative damage taken. To get relative damage reduction, we’d need to divide by the amount we actually take (i.e. if we only take 70% of the damage that’s coming at us, it’s 0.00238/0.3=0.0079, or ~0.8% relative damage reduction).

In practice, this number is about right. With my stat weights, my TDR is around 71.5%, or 28.5% of raw boss damage taken. So, using our guess of about 0.8% relative damage reduction, how much DTPS must we be seeing in logs for this to equal Colossus absorption?

It should be (0.8%*DTPS)=800, or about 100k DTPS. Note that I’ve assumed that the free 10% spell haste we get from SoI is counteracted by Colossus munching, and haven’t included other haste contributions (spell haste raid buff, haste on gear, bloodlust, etc.). In practice both Windsong uptime and Colossus absorption per second will be a little higher because of those additional haste factors, and generally in Colossus’ favor. For example, in my gear set I have 4.14% haste, for 14.55% total before raid buffs and 20.28% after raid buffs, which means I’d be getting around 962 HPS from colossus and 14.82% uptime on Windsong (222 rating per buff, 310 effective mastery, 0.2583% absolute damage reduction, 0.8611% relative damage reduction), raising the threshold to 111.7k DTPS. These values are well above steady-state damage intake in heroic content (though on par with peak or high-damage periods).

So in 5.1, Windsong will definitely not be the best TDR enchant. Colossus has it beat by a fair bit, and even during high-damage-intake situations they’ll be about equal. As of right now, Colossus’ proc rate is a little lower – on our last Stone Guard 25H kill, it procced 34 times for 272k absorption in about 7 minutes, for about 650 HPS. That’s still well ahead of Windsong’s TDR performance.

In other words, if you are choosing Windsong for reasons of TDR, you’re doing it wrong.

Control Considerations

Now, you might argue that we’re not gearing for hit/exp/haste/mastery for the purposes of TDR, and you’d be right about that. We’re gearing for them because it gives us greater control over our survivability. But I think that’s makes for an even weaker argument for Windsong. Which gives you more reliable damage mitigation (or phrased another way, better smoothing): an 8k absorb every 10-12 seconds, or an uncontrollable proc that may or may not be up when you need it, and has a chance of giving you back-to-back crit procs that don’t help you?

Personally, I’d take the 8k absorb. Because my usual death scenario is a 5-8 second window where I’m bursted down without enough healing. There’s a very good chance that I’ll have one Colossus proc in that window (at roughly 1 proc every 8.3 seconds with 20% raid-buffed haste, the overlap chance is greater than 65%). There’s a much smaller chance that I have a useful Windsong proc covering that window. Admittedly, if it does line up, it’s a much stronger defensive effect than an 8k absorb, but I’d rather have the 8k absorb ~80% of the time than the much larger effect 25% of the time (roughly estimating, 12s*(4/3)/60s=26.6%).

There’s also something to be said for the Living Steel Weapon Chain. A static 200 expertise is always on, so it’s got the whole “consistency” thing in the bag. And it’s expertise, which we value much more highly than expertise or haste, right? Well, not exactly. If you can reach the caps via reforging already, all this enchant does for you is allow you to reforge less of that itemization on gear into expertise, and subsequently keep more mastery or haste. In that sense, it’s not worth 200 expertise, it’s worth 200 of whatever stat you’re reforging into after hit/exp caps – either 200 mastery or 200 haste. It’s only if you can’t reach the caps via just reforging that the enchant keeps its higher value as an expertise source.

Conclusions

Despite some early enthusiasm for Windsong, I think we can conclusively say that it isn’t as attractive as many thought it would be. In fact, despite the fact that we like haste and mastery, I think River’s Song is a stronger enchant. Remember that after hit/exp cap, avoidance is almost as good as haste and mastery, and River’s Song’s superior uptime gives you a lot more avoidance than Windsong gives haste and mastery.

I still think Dancing Steel has some allure as well – the fact that it grants parry might make up for the lower uptime, but that will depend on exactly how lopsided the avoidance on your gear set is. In my setup, parry’s actually being diminished more than dodge, so River’s Song would hold a commanding lead over Dancing Steel in TDR and survivability. Your mileage may vary.

For consistency, I think the Colossus enchant is unmatched. Yes, the absorb bubbles are small, but their reliability is what makes them attractive. Another 8k off of a 100k swing is still a good chunk, and in a longer death scenario I could get two of them. The fact that it’s fairly strong for TDR is a bonus.

I’m mixed on the weapon chain. I think it’s a good option when you’re at low gear levels, and really need that 200 expertise to get closer to the expertise hard cap. Once you can do that with gear and reforging alone, it loses a lot of its allure. If I had to choose between a 200 haste enchant and Colossus, I think Colossus would win every time. So I think the chain is probably worth setting aside once your gear improves.